"use client";

import { DataTableCellMerchantStatus } from "@/app/components/data-table/data-table-cells";
import GenericWrapperProfile from "@/app/components/wrappers/generic-wrapper-profile.component";
import { IMerchant } from "@/models/merchant/merchant.interface";
import parse from "html-react-parser";
import { BiSolidEdit, BiTrash } from "react-icons/bi";
import default_profile from "@/assets/default_user_icon.png";

type StoreProfileButton = "view" | "edit" | "delete" | "none";

const StoreProfile = ({
    merchant,
    buttons,
    maxWidthInPx,
    maxHeightInPx,
}: {
    merchant: IMerchant;
    buttons: StoreProfileButton[];
    maxWidthInPx: string;
    maxHeightInPx: string;
}) => {
    return (
        <GenericWrapperProfile maxHeightInPx={maxHeightInPx} maxWidthInPx={maxWidthInPx}>
            <div className="flex flex-col text-center">
                <div className="flex justify-center mb-4">
                    <img src={merchant.profilePicture || default_profile.src} alt={`${merchant.name} logo`} className="h-24" />
                </div>

                <h2 className="text-xl font-bold text-gray-800 font-poppins">{merchant.name}</h2>
                <p className="text-[12px] text-gray-500 font-poppins">{merchant.email}</p>

                <div className="flex justify-center mt-2 font-poppins">
                    <DataTableCellMerchantStatus status={merchant.status} />
                </div>
            </div>

            <div className="font-poppins text-[12px] text-gray-700 space-y-1 bg-[#EEEEEF] p-3 rounded-2xl">
                <div className="flex justify-start gap-2">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M9 1.6875C5.38125 1.6875 2.4375 4.63125 2.4375 8.25C2.4375 12.0885 5.96024 14.415 8.29124 15.9547L8.688 16.218C8.7825 16.281 8.89125 16.3125 9 16.3125C9.10875 16.3125 9.2175 16.281 9.312 16.218L9.70876 15.9547C12.0398 14.415 15.5625 12.0885 15.5625 8.25C15.5625 4.63125 12.6187 1.6875 9 1.6875ZM9.08925 15.0157L9 15.0751L8.91075 15.0157C6.65325 13.5247 3.5625 11.4832 3.5625 8.25C3.5625 5.2515 6.0015 2.8125 9 2.8125C11.9985 2.8125 14.4375 5.2515 14.4375 8.25C14.4375 11.4832 11.346 13.5255 9.08925 15.0157ZM9 5.8125C7.656 5.8125 6.5625 6.906 6.5625 8.25C6.5625 9.594 7.656 10.6875 9 10.6875C10.344 10.6875 11.4375 9.594 11.4375 8.25C11.4375 6.906 10.344 5.8125 9 5.8125ZM9 9.5625C8.27625 9.5625 7.6875 8.97375 7.6875 8.25C7.6875 7.52625 8.27625 6.9375 9 6.9375C9.72375 6.9375 10.3125 7.52625 10.3125 8.25C10.3125 8.97375 9.72375 9.5625 9 9.5625Z"
                            fill="#25314C"
                        />
                    </svg>
                    <span>{merchant.location}</span>
                </div>
                <div className="flex justify-start gap-2">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12.4141 16.3141C12.0699 16.3141 11.7234 16.2676 11.3814 16.1738C6.75764 14.9048 3.09688 11.2463 1.82713 6.62557C1.53838 5.57482 1.69659 4.47981 2.27409 3.54381C2.85384 2.60331 3.80714 1.93956 4.88939 1.72356C5.60939 1.57956 6.32114 1.90056 6.68639 2.51631L7.85863 4.4963C8.42788 5.4578 8.14503 6.69605 7.21428 7.31555L6.36613 7.87956C7.15888 9.50706 8.49227 10.8443 10.113 11.6363L10.6847 10.7835C11.3079 9.8543 12.5461 9.57606 13.5069 10.1483L15.4892 11.3303C16.1027 11.6963 16.4199 12.4126 16.2804 13.1116C16.0644 14.1938 15.4006 15.1471 14.4609 15.7268C13.8294 16.1153 13.1266 16.3141 12.4141 16.3141ZM5.23363 2.81256C5.19688 2.81256 5.1594 2.81632 5.1234 2.82382C4.3329 2.98207 3.64815 3.4583 3.23265 4.13405C2.8209 4.80155 2.70763 5.58081 2.91313 6.32706C4.07788 10.5668 7.43712 13.9246 11.6791 15.0886C12.4261 15.2933 13.203 15.1793 13.8698 14.7683C14.5448 14.3521 15.0219 13.6666 15.1772 12.8896C15.2237 12.6563 15.1179 12.4171 14.9124 12.2948L12.9308 11.1128C12.4846 10.8473 11.9086 10.9771 11.6191 11.4083L10.7828 12.6571C10.6328 12.8806 10.3434 12.9661 10.0989 12.8626C7.87667 11.9333 6.06841 10.1213 5.13841 7.8908C5.03491 7.6418 5.1218 7.35531 5.34605 7.20606L6.5919 6.3773C7.0239 6.09005 7.15511 5.5148 6.89036 5.06855L5.71812 3.0893C5.61537 2.9153 5.42938 2.81256 5.23363 2.81256Z"
                            fill="#25314C"
                        />
                    </svg>

                    <span>
                        ({merchant.phoneNumberPrefix}) {merchant.phoneNumber}
                    </span>
                </div>
                <div className="flex justify-start gap-2">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12.5 15.3126H3.5C1.6865 15.3126 0.6875 14.3136 0.6875 12.5001V6.29914C0.6875 5.48239 1.09327 4.72414 1.77277 4.27114L6.43994 1.16015C7.38794 0.528648 8.61206 0.528648 9.56006 1.16015L14.2272 4.27114C14.9067 4.72414 15.3125 5.48239 15.3125 6.29914V12.5001C15.3125 14.3136 14.3135 15.3126 12.5 15.3126ZM8 1.81189C7.67375 1.81189 7.34821 1.9064 7.06396 2.09615L2.39679 5.20715C2.03079 5.4509 1.8125 5.85964 1.8125 6.29914V12.5001C1.8125 13.6829 2.31725 14.1876 3.5 14.1876H12.5C13.6827 14.1876 14.1875 13.6829 14.1875 12.5001V6.29914C14.1875 5.85964 13.9692 5.4509 13.6032 5.20715L8.93604 2.09615C8.65179 1.9064 8.32625 1.81189 8 1.81189ZM8.6427 10.2051L12.0807 7.70465C12.3319 7.52165 12.3875 7.16989 12.2045 6.91864C12.0222 6.66814 11.6721 6.61115 11.4186 6.7949L7.98132 9.29464C7.93182 9.33064 7.86729 9.33065 7.81854 9.2954L4.38055 6.7949C4.1278 6.6119 3.77598 6.66814 3.59448 6.91864C3.41148 7.16989 3.46701 7.52165 3.71826 7.70465L7.15625 10.2051C7.37825 10.3664 7.63849 10.4474 7.89874 10.4474C8.15974 10.4474 8.4207 10.3671 8.6427 10.2051Z"
                            fill="#25314C"
                        />
                    </svg>

                    <span>{merchant.email}</span>
                </div>
                <div className="flex justify-start gap-2">
                    <div className="flex flex-row gap-1">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M16.8168 6.8385C16.7465 6.6223 16.6138 6.43176 16.4354 6.29087C16.2569 6.14998 16.0408 6.06505 15.8142 6.04678L11.6657 5.71209L10.064 1.83857C9.97741 1.62751 9.82998 1.44697 9.64049 1.31991C9.45099 1.19284 9.228 1.125 8.99985 1.125C8.7717 1.125 8.5487 1.19284 8.35921 1.31991C8.16972 1.44697 8.02229 1.62751 7.93567 1.83857L6.33536 5.71139L2.18481 6.04678C1.95783 6.06598 1.74155 6.15173 1.56309 6.2933C1.38463 6.43487 1.25191 6.62595 1.18156 6.84261C1.11122 7.05928 1.10638 7.29188 1.16765 7.51128C1.22891 7.73068 1.35356 7.92713 1.52598 8.076L4.69004 10.8062L3.72606 14.8886C3.67215 15.1104 3.68535 15.3432 3.76399 15.5574C3.84262 15.7717 3.98315 15.9578 4.16773 16.092C4.35232 16.2263 4.57263 16.3027 4.8007 16.3115C5.02877 16.3203 5.25432 16.2612 5.44872 16.1415L8.9995 13.9562L12.5524 16.1415C12.7469 16.2597 12.9719 16.3177 13.1993 16.3083C13.4267 16.2988 13.6462 16.2222 13.8301 16.0883C14.0141 15.9543 14.1543 15.7689 14.2331 15.5554C14.3119 15.342 14.3257 15.1099 14.2729 14.8886L13.3054 10.8055L16.4695 8.07529C16.6433 7.92667 16.7691 7.7298 16.8309 7.50963C16.8928 7.28945 16.8879 7.05588 16.8168 6.8385ZM15.7382 7.22311L12.314 10.1762C12.2359 10.2435 12.1779 10.331 12.1461 10.4291C12.1144 10.5272 12.1102 10.6321 12.134 10.7324L13.1803 15.148C13.183 15.1541 13.1833 15.161 13.181 15.1673C13.1788 15.1736 13.1743 15.1788 13.1683 15.1818C13.1557 15.1916 13.1522 15.1895 13.1416 15.1818L9.29411 12.8158C9.2055 12.7613 9.10352 12.7324 8.9995 12.7324C8.89548 12.7324 8.7935 12.7613 8.70489 12.8158L4.85739 15.1832C4.84684 15.1895 4.84403 15.1916 4.83067 15.1832C4.82474 15.1802 4.82019 15.175 4.81796 15.1687C4.81574 15.1624 4.81601 15.1555 4.81872 15.1494L5.86497 10.7338C5.88881 10.6335 5.88463 10.5286 5.85289 10.4305C5.82115 10.3324 5.76306 10.2449 5.68497 10.1776L2.26075 7.22451C2.25231 7.21748 2.24458 7.21115 2.25161 7.18936C2.25864 7.16756 2.26426 7.17037 2.27481 7.16897L6.76919 6.80615C6.87227 6.79731 6.97092 6.76021 7.05428 6.69893C7.13764 6.63765 7.20249 6.55456 7.24169 6.45881L8.97278 2.26748C8.9784 2.25553 8.98051 2.2499 8.99739 2.2499C9.01426 2.2499 9.01637 2.25553 9.022 2.26748L10.7573 6.45881C10.7969 6.5546 10.8621 6.63759 10.9459 6.69864C11.0296 6.75968 11.1286 6.7964 11.2319 6.80475L15.7263 7.16756C15.7368 7.16756 15.7432 7.16756 15.7495 7.18795C15.7558 7.20834 15.7495 7.21608 15.7382 7.22311Z"
                                fill="#A9AAAF"
                            />
                        </svg>

                        <span>Waiting for BE</span>
                    </div>
                    <div className="flex flex-row gap-1">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M8.24408 11.1035C8.99798 10.6016 9.57034 9.87043 9.87653 9.01808C10.1827 8.16573 10.2065 7.23747 9.94432 6.37056C9.68214 5.50366 9.14795 4.74414 8.42073 4.20433C7.69351 3.66451 6.81187 3.37305 5.90619 3.37305C5.00051 3.37305 4.11888 3.66451 3.39166 4.20433C2.66444 4.74414 2.13024 5.50366 1.86807 6.37056C1.6059 7.23747 1.62966 8.16573 1.93586 9.01808C2.24205 9.87043 2.81441 10.6016 3.5683 11.1035C2.20459 11.6061 1.03994 12.5362 0.248146 13.755C0.206533 13.8168 0.177627 13.8863 0.163111 13.9595C0.148595 14.0326 0.148758 14.1079 0.16359 14.1809C0.178421 14.254 0.207626 14.3233 0.249507 14.385C0.291387 14.4467 0.345108 14.4994 0.407547 14.5401C0.469985 14.5809 0.539896 14.6088 0.613215 14.6222C0.686534 14.6357 0.761799 14.6345 0.834634 14.6186C0.90747 14.6027 0.976424 14.5725 1.03749 14.5298C1.09855 14.487 1.15051 14.4325 1.19033 14.3695C1.70108 13.584 2.39996 12.9385 3.22352 12.4916C4.04707 12.0447 4.96921 11.8107 5.90619 11.8107C6.84317 11.8107 7.76531 12.0447 8.58887 12.4916C9.41243 12.9385 10.1113 13.584 10.6221 14.3695C10.7046 14.4921 10.832 14.5774 10.9768 14.6068C11.1217 14.6362 11.2723 14.6074 11.396 14.5267C11.5198 14.4459 11.6069 14.3197 11.6383 14.1753C11.6698 14.0309 11.6432 13.8799 11.5642 13.755C10.7724 12.5362 9.6078 11.6061 8.24408 11.1035ZM2.81244 7.59351C2.81244 6.98162 2.99389 6.38348 3.33383 5.87471C3.67378 5.36595 4.15696 4.96942 4.72227 4.73526C5.28758 4.5011 5.90963 4.43983 6.50975 4.5592C7.10988 4.67858 7.66114 4.97323 8.09381 5.4059C8.52647 5.83857 8.82112 6.38982 8.9405 6.98995C9.05987 7.59008 8.9986 8.21213 8.76445 8.77744C8.53029 9.34274 8.13375 9.82592 7.62499 10.1659C7.11622 10.5058 6.51808 10.6873 5.90619 10.6873C5.08597 10.6863 4.2996 10.3601 3.71961 9.78009C3.13962 9.2001 2.81337 8.41374 2.81244 7.59351ZM17.5879 14.5334C17.463 14.6148 17.3108 14.6433 17.1648 14.6126C17.0188 14.5819 16.8911 14.4945 16.8096 14.3695C16.2994 13.5835 15.6006 12.9377 14.7769 12.491C13.9532 12.0444 13.0307 11.811 12.0937 11.8123C11.9445 11.8123 11.8014 11.753 11.6959 11.6475C11.5905 11.542 11.5312 11.3989 11.5312 11.2498C11.5312 11.1006 11.5905 10.9575 11.6959 10.852C11.8014 10.7465 11.9445 10.6873 12.0937 10.6873C12.5493 10.6868 12.9992 10.5858 13.4112 10.3913C13.8232 10.1969 14.1872 9.91381 14.4772 9.56238C14.7671 9.21095 14.9759 8.79981 15.0885 8.35835C15.2011 7.91689 15.2149 7.456 15.1287 7.00861C15.0426 6.56123 14.8587 6.13839 14.5902 5.7703C14.3217 5.40222 13.9752 5.09798 13.5755 4.87933C13.1758 4.66067 12.7328 4.533 12.278 4.50543C11.8232 4.47786 11.368 4.55107 10.9448 4.71984C10.8758 4.74966 10.8015 4.76536 10.7263 4.766C10.6512 4.76663 10.5766 4.75219 10.5071 4.72354C10.4376 4.69488 10.3746 4.65258 10.3217 4.59915C10.2689 4.54571 10.2272 4.48222 10.1993 4.41242C10.1714 4.34263 10.1578 4.26795 10.1592 4.19279C10.1606 4.11763 10.1771 4.04352 10.2077 3.97484C10.2382 3.90616 10.2822 3.8443 10.3371 3.79292C10.392 3.74154 10.4566 3.70168 10.5271 3.6757C11.4957 3.28944 12.5729 3.27554 13.5511 3.63668C14.5293 3.99782 15.339 4.70842 15.8242 5.63138C16.3094 6.55434 16.4355 7.62428 16.1784 8.63478C15.9212 9.64528 15.2989 10.5247 14.4316 11.1035C15.7953 11.6061 16.9599 12.5362 17.7517 13.755C17.8332 13.8799 17.8617 14.0321 17.831 14.1781C17.8003 14.3241 17.7128 14.4518 17.5879 14.5334Z"
                                fill="#A9AAAF"
                            />
                        </svg>
                        <span>Waiting for BE</span>
                    </div>
                </div>
            </div>

            <div className="font-poppins bg-gray-100 p-3 rounded-lg text-[12px] text-gray-700 text-left break-words max-h-40 h-full overflow-y-auto">
                <strong>Shop Description</strong>
                <br />
                {parse(merchant.description || "")}
            </div>

            {buttons.includes("view") && (
                <div>
                    <button className="bg-[#E4EBF3] px-4 py-[10px] rounded-2xl w-full hover:bg-gray-300 cursor-pointer">
                        <span className="font-medium text-[#222A50] text-[12px] leading-[130%] tracking-[0%] text-center font-montserrat">
                            View Shop
                        </span>
                    </button>
                </div>
            )}

            {buttons.includes("edit") && (
                <div className="font-poppins flex justify-center gap-6">
                    <button className="p-2 rounded-full bg-gray-200 hover:bg-gray-300 cursor-pointer">
                        <BiSolidEdit className="text-gray-500 text-xl" />
                    </button>
                    <button className="p-2 rounded-full bg-gray-200 hover:bg-red-200 cursor-pointer">
                        <BiTrash className="text-gray-500 text-xl" />
                    </button>
                </div>
            )}
        </GenericWrapperProfile>
    );
};

export default StoreProfile;
